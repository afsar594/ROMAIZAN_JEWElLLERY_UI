<div class="matero-page-header">
    <div class="matero-page-header-inner">
        <h2 class="matero-page-title">{{title}}</h2>
    </div>
</div>
<p-toolbar>
    <div class="ui-toolbar-group-left">
        <button pButton type="button" label="Add" (click)="onAdd()" icon="fa fa-plus" class="ui-button-info"></button>
        <button pButton type="button" label="Edit" (click)="onEdit()" icon="fa fa-pencil"
            class="ui-button-success"></button>
        <button pButton type="button" (click)="onSave()" label="{{isEdit ? 'Update': 'Save'}}" icon="fa fa-floppy-o"
            class="ui-button-success"></button>
        <button pButton type="button" label="Cancel" (click)="onAdd()" icon="fa fa-floppy-o"
            class="ui-button-warning"></button>
        <button pButton type="button" (click)="listModal = true" label="List" icon="fa fa-list"
            class="ui-button-info"></button>
        <button pButton type="button" class="ui-button-danger" (click)="onDelete()" label="  Delete"
            icon="fa fa-ban"></button>
        <button pButton type="button" label="Print" icon="fa fa-print" class="ui-button-success"></button>
        <button pButton type="button" label="Exit" icon="fa fa-sign-out" class="ui-button-danger"></button>
    </div>

</p-toolbar>
<div class="card card-w-title" [formGroup]="leavesettlementForm">
    <div class="p-grid">
        <!-- <div class="p-col-1 p-md-1 p-lg-1">
            <label>Staff Name</label>
        </div> -->
        <div class="p-col-5 p-md-5 p-lg-5">
            <p-dropdown [filter]="true" (onChange)="onChangeStaffGetData()" placeholder=" Select a Staff"
                filterValue="fullName" [showClear]="true" dataKey="staffId" autoWidth="false" formControlName="staffid"
                [style]="{'width':'100%'}" [options]="masterApiService.staffMasterArrayDuplicate"
                optionLabel="fullName">
            </p-dropdown>
            <div class="error" *ngIf="f.staffid.touched && f.staffid.invalid">
                <span>Staff is required*</span>
            </div>
        </div>
        <div class="p-col-1 p-md-1 p-lg-1">
            <label> Date:</label>
        </div>
        <div class="p-col-3 p-md-3 p-lg-3">
            <p-calendar [showIcon]="true" formControlName="leaveSalaryDate" [style]="{'width':'85%'}"
                [inputStyle]="{'width':'96%'}">
            </p-calendar>
        </div>
    </div>
    <p-tabView [activeIndex]="index" (onChange)="handleChange($event)">
        <p-tabPanel [header]="'Leave Salary'| translate">
            <div class="p-grid">
                <div class="p-col-6 p-md-6 p-lg-6">
                    <div class="p-grid">
                        <div class="p-col-2 p-md-2 p-lg-2">
                            <label>Designation</label>
                        </div>
                        <div class="p-col-10 p-md-10 p-lg-10">
                            <input readonly pInputText style="width:100%;" formControlName="DesignationName"
                                placeholder="" />
                        </div>
                    </div>
                    <div class="p-grid">
                        <div class="p-col-2 p-md-2 p-lg-2">
                            <label> Date Of Join:</label>
                        </div>
                        <div class="p-col-4 p-md-4 p-lg-4">
                            <p-calendar [showIcon]="true" formControlName="DOJ" [style]="{'width':'85%'}"
                                [inputStyle]="{'width':'96%'}">
                            </p-calendar>
                        </div>
                        <div class="p-col-2 p-md-2 p-lg-2">
                            <label> Last Sett Date:</label>
                        </div>
                        <div class="p-col-4 p-md-4 p-lg-4">
                            <p-calendar [showIcon]="true" formControlName="lastSettDate" [style]="{'width':'85%'}"
                                [inputStyle]="{'width':'96%'}">
                            </p-calendar>
                        </div>
                    </div>
                    <div class="p-grid">
                        <div class="p-col-2 p-md-2 p-lg-2">
                            <label> Sal. Sett Date:</label>
                        </div>
                        <div class="p-col-4 p-md-4 p-lg-4">
                            <p-calendar [showIcon]="true" formControlName="settDate" [style]="{'width':'85%'}"
                                [inputStyle]="{'width':'96%'}">
                            </p-calendar>
                        </div>
                        <div class="p-col-2 p-md-2 p-lg-2">
                            <label> Staff Type:</label>
                        </div>
                        <div class="p-col-4 p-md-4 p-lg-4">
                            <input pInputText style="width:100%;" formControlName="StaffTypeName" placeholder="">
                        </div>
                    </div>
                    <div class="p-grid">
                        <div class="p-col-2 p-md-2 p-lg-2">
                            <label> LeaveSal Date :</label>
                        </div>
                        <div class="p-col-4 p-md-4 p-lg-4">
                            <p-calendar [showIcon]="true" formControlName="leaveSalaryDate" [style]="{'width':'85%'}"
                                [inputStyle]="{'width':'96%'}">
                            </p-calendar>
                        </div>
                    </div>
                </div>
                <div class="p-col-6 p-md-6 p-lg-6">
                    <div class="p-grid">
                        <div class="p-col-2 p-md-2 p-lg-2">
                            <label>Tot Wrk Days:</label>
                        </div>
                        <div class="p-col-4 p-md-4 p-lg-4">
                            <input pInputText style="width:100%;" type="number" formControlName="totalDays"
                                placeholder="Enter Tot Wrk Days " />
                        </div>
                        <div class="p-col-2 p-md-2 p-lg-2">
                            <label>Leave Taken:</label>
                        </div>
                        <div class="p-col-4 p-md-4 p-lg-4">
                            <input pInputText style="width:100%;" type="number" formControlName="leaveDays"
                                placeholder="Enter Leave Taken" />
                        </div>
                    </div>
                    <div class="p-grid">
                        <div class="p-col-2 p-md-2 p-lg-2">
                            <label>Tot Days Wrk:</label>
                        </div>
                        <div class="p-col-8 p-md-8 p-lg-8">
                            <input pInputText style="width:100%;" type="number" formControlName="totalDaysWorked"
                                placeholder="Enter Tot Days Wrk" />
                        </div>
                        <div class="p-col-2 p-md-2 p-lg-2">
                            <button pButton type="button" label="Leave" style="width: 100px;"></button>
                        </div>
                    </div>
                    <div class="p-grid">
                        <div class="p-col-2 p-md-2 p-lg-2">
                            <label> Leave Form:</label>
                        </div>
                        <div class="p-col-4 p-md-4 p-lg-4">
                            <p-calendar [showIcon]="true" formControlName="alstartDate" [style]="{'width':'85%'}"
                                [inputStyle]="{'width':'96%'}">
                            </p-calendar>
                        </div>

                        <div class="p-col-2 p-md-2 p-lg-2">
                            <label> Leave Until:</label>
                        </div>
                        <div class="p-col-4 p-md-4 p-lg-4">
                            <p-calendar [showIcon]="true" formControlName="alendDate" [style]="{'width':'85%'}"
                                [inputStyle]="{'width':'96%'}">
                            </p-calendar>
                        </div>
                    </div>
                    <div class="p-grid">
                        <div class="p-col-2 p-md-2 p-lg-2">
                            <label>Taken Days:</label>
                        </div>
                        <div class="p-col-4 p-md-4 p-lg-4">
                            <input pInputText type="number" style="width:100%;" formControlName="takenDays"
                                placeholder="Enter Taken Days" />
                        </div>
                        <div class="p-col-2 p-md-2 p-lg-2">
                            <label>Days Excl Hols:</label>
                        </div>
                        <div class="p-col-4 p-md-4 p-lg-4">
                            <input pInputText type="number" style="width:100%;" formControlName="eligibleDays"
                                placeholder="Enter DEH" />
                        </div>
                    </div>
                    <br>
                    <div class="p-grid">
                        <div class="p-col-2"></div>
                        <div class="p-col-6"
                            style="background-color: red; width: 200px; height: 30px; padding-top: 5px; color: white;">
                            <p-checkbox formControlName="createLeave" [binary]="true" label="Create Leave"></p-checkbox>
                        </div>
                    </div>
                </div>

            </div>
            <div class="p-grid">
                <div class="p-col-6 p-md-6 p-lg-6">
                    <p-panel>
                        <p-header>
                            Leave Details
                        </p-header>
                        <div class="card">
                            <div class="p-grid">
                                <div class="p-col-12">
                                    <hot-table [hotId]="hotid" [data]="leavedetailsArray" [licenseKey]="licensekey"
                                        [settings]="leavedetails">
                                    </hot-table>
                                </div>
                            </div>
                        </div>
                    </p-panel>
                </div>
                <div class="p-col-6 p-md-6 p-lg-6">
                    <p-panel>
                        <p-header>
                            <div class="p-col-3"
                                style="background-color: green; width: 300px; height: 30px; padding-top: 5px; color: white;">
                                <p-checkbox formControlName="addLspayroll" [binary]="true"
                                    label="Leave Encashment"></p-checkbox>
                            </div>
                        </p-header>
                        <div class="p-grid">
                            <div class="p-col-2 p-md-2 p-lg-2">
                                <label>Encash Day:</label>
                            </div>
                            <div class="p-col-4 p-md-4 p-lg-4">
                                <input pInputText style="width:100%;" />
                            </div>
                            <div class="p-col-2 p-md-2 p-lg-2">
                                <label>Encash Amount:</label>
                            </div>
                            <div class="p-col-4 p-md-4 p-lg-4">
                                <input pInputText style="width:100%;" />
                            </div>
                        </div>
                    </p-panel>
                    <br>
                    <div class="p-grid">
                        <div class="p-col-2 p-md-2 p-lg-2">
                            <label>Avail Leave Days:</label>
                        </div>
                        <div class="p-col-6 p-md-6 p-lg-6">
                            <input pInputText style="width:100%;" />

                        </div>
                        <div class="p-col-4 p-md-4 p-lg-4">
                            <button pButton type="button" style="width: 200px;" class="ui-button-danger"
                                label=" Print"></button>

                        </div>
                    </div>
                    <div class="p-grid">
                        <div class="p-col-2 p-md-2 p-lg-2">
                            <label>Curr Leave Days:</label>
                        </div>
                        <div class="p-col-6 p-md-6 p-lg-6">
                            <input pInputText style="width:100%;" />

                        </div>
                        <div class="p-col-4 p-md-4 p-lg-4">
                            <button (click)="AddLeaveSalaryToPayrollProcess('ADDPAY')" pButton type="button"
                                style="width: 200px;" class="ui-button-success"
                                label=" Add Leave Salary To Payroll"></button>

                        </div>
                    </div>
                    <div class="p-grid">
                        <div class="p-col-2 p-md-2 p-lg-2">
                            <label>Leave Salary:</label>
                        </div>
                        <div class="p-col-6 p-md-6 p-lg-6">
                            <input pInputText style="width:100%;" />

                        </div>
                        <div class="p-col-4 p-md-4 p-lg-4">
                            <button pButton type="button" style="width: 200px;" class="ui-button-success"
                                label="Process"></button>

                        </div>
                    </div>
                    <!-- <div class="p-grid">
                        <div class="p-col-2 p-md-2 p-lg-2">
                            <label>Holiday:</label>
                        </div>
                        <div class="p-col-9 p-md-9 p-lg-9">
                            <input pInputText style="width:100%;" />
                        </div>
                    </div> -->
                    <div class="p-grid">
                        <div class="p-col-2 p-md-2 p-lg-2">
                            <label>Total:</label>
                        </div>
                        <div class="p-col-9 p-md-9 p-lg-9">
                            <input pInputText style="width:100%;" />
                        </div>

                    </div>
                    <div class="p-grid">
                        <div class="p-col-2 p-md-2 p-lg-2">
                            <label>Remarks:</label>
                        </div>
                        <div class="p-col-9 p-md-9 p-lg-9">
                            <textarea class="w-100" pInputText></textarea>
                        </div>

                    </div>

                </div>

            </div>
        </p-tabPanel>
        <p-tabPanel [header]="'Payroll'| translate">
            <div class="p-grid">
                <div class="p-col-4 p-md-4 p-lg-4">
                    <p-panel>
                        <p-header style="color: brown; font-weight: bold;">
                            Salary Details
                        </p-header>
                        <div class="card">
                            <div class="p-grid">
                                <div class="p-col-12">
                                    <hot-table [hotId]="hotid2" [data]="SalaryDetailsArray" [licenseKey]="licensekey"
                                        [settings]="SalaryDetailsGrid">
                                    </hot-table>
                                </div>
                            </div>
                            <div class="p-grid">
                                <div class="p-col-3 p-md-3 p-lg-3">
                                    <label>Earning Total</label>
                                </div>
                                <div class="p-col-9 p-md-9 p-lg-9">
                                    <input [value]="getEarningTotal()" pInputText style="width:100%;" />
                                </div>
                            </div>
                        </div>
                    </p-panel>
                </div>
                <div class="p-col-4 p-md-4 p-lg-4">
                    <p-panel>
                        <p-header style="color: red; font-weight: bold;">
                            Loan Details
                        </p-header>
                        <div class="card">
                            <div class="p-grid">
                                <div class="p-col-12">
                                    <hot-table [data]="LoanDetailsArray" [hotId]="hotid3" [licenseKey]="licensekey"
                                        [settings]="LoanDetailsGrid">
                                    </hot-table>
                                </div>
                            </div>
                            <div class="p-grid">
                                <div class="p-col-3 p-md-3 p-lg-3">
                                    <label>Loan</label>
                                </div>
                                <div class="p-col-9 p-md-9 p-lg-9">
                                    <input [value]="getLoanTotal()" pInputText style="width:100%;" />
                                </div>
                            </div>
                        </div>
                    </p-panel>
                </div>
                <div class="p-col-4 p-md-4 p-lg-4">
                    <p-panel>
                        <p-header style="color: green; font-weight: bold;">
                            Panding Salary Details
                        </p-header>
                        <div class="card">
                            <div class="p-grid">
                                <div class="p-col-12">
                                    <hot-table [hotId]="hotid4" [data]="PendingSalaryArray" [licenseKey]="licensekey"
                                        [settings]="PendingSalaryGrid">
                                    </hot-table>
                                </div>
                            </div>
                            <div class="p-grid">
                                <div class="p-col-3 p-md-3 p-lg-3">
                                    <label>Panding Salary</label>
                                </div>
                                <div class="p-col-9 p-md-9 p-lg-9">
                                    <input [value]="getPendingSalaryTotal()" pInputText style="width:100%;" />
                                </div>
                            </div>
                        </div>
                    </p-panel>
                </div>
            </div>
            <div class="p-grid">
                <div class="p-col-2 p-md-2 p-lg-2">
                    <label>Payroll Calculation Days</label>
                </div>
                <div class="p-col-5 p-md-5 p-lg-5">
                    <p-dropdown [filter]="true" [style]="{'width':'100%'}"></p-dropdown>
                </div>
                <div class="p-col-5 p-md-5 p-lg-5">
                    <button pButton type="button" style="width: 300px;" class="ui-button-danger"
                        label=" Process"></button>

                </div>
            </div>
            <div class="p-grid">
                <div class="p-col-2 p-md-2 p-lg-2">
                    <label>Payroll Set Date</label>
                </div>
                <div class="p-col-5 p-md-5 p-lg-5">
                    <p-calendar [showIcon]="true" [style]="{'width':'94%'}" [inputStyle]="{'width':'96%'}">
                    </p-calendar>
                </div>

            </div>
            <div class="p-grid">
                <div class="p-col-2 p-md-2 p-lg-2">
                    <label>Payroll Amount</label>
                </div>
                <div class="p-col-5 p-md-5 p-lg-5">
                    <input pInputText style="width:100%;" />
                </div>
                <div class="p-col-5 p-md-5 p-lg-5"
                    style="background-color: green; width: 300px; height: 30px; margin-left: 5px; color: white;">
                    <p-checkbox label="Add Leave Salary To Payroll"></p-checkbox>
                </div>
            </div>
            <div class="p-grid">
                <div class="p-col-2 p-md-2 p-lg-2">
                    <label>Remarks:</label>
                </div>
                <div class="p-col-5 p-md-5 p-lg-5">
                    <textarea class="w-100" pInputText></textarea>
                </div>
                <div class="p-col-5 p-md-5 p-lg-5">
                    <button (click)="DeletedPayroll()" pButton type="button" style="width: 300px;"
                        class="ui-button-danger" label=" Delete Payroll"></button>

                </div>
            </div>
        </p-tabPanel>
        <p-tabPanel [header]="'Add/Ded Details'| translate">
            <div class="card card-w-title">
                <div class="p-grid">
                    <div class="p-col-1 p-md-1 p-lg-1">
                        <label>Var Add</label>

                    </div>
                    <div class="p-col-3 p-md-3 p-lg-3">
                        <input readonly type="number" formControlName="varAdd" pInputText style="width:100%;" />

                    </div>

                    <div class="p-col-1 p-md-1 p-lg-1">
                        <label>VarAdd Rmk:</label>
                    </div>
                    <div class="p-col-7 p-md-7 p-lg-7">
                        <textarea readonly formControlName="rmkVarAdd" class="w-100" pInputText></textarea>
                    </div>
                </div>
                <div class="p-grid">
                    <div class="p-col-1 p-md-1 p-lg-1">
                        <label>Var Ded</label>

                    </div>
                    <div class="p-col-3 p-md-3 p-lg-3">
                        <input readonly formControlName="varDed" type="number" pInputText style="width:100%;" />

                    </div>

                    <div class="p-col-1 p-md-1 p-lg-1">
                        <label>VarDed Rmk:</label>
                    </div>
                    <div class="p-col-7 p-md-7 p-lg-7">
                        <textarea readonly formControlName="rmkVarDed" class="w-100" pInputText></textarea>
                    </div>
                </div>
            </div>
        </p-tabPanel>
        <p-tabPanel [header]="'Air Ticket'| translate">
            <div class="card card-w-title">
                <div class="p-grid">
                    <div class="p-col-1 p-md-1 p-lg-1">
                        <label>Staff Name</label>
                    </div>
                    <div class="p-col-11 p-md-11 p-lg-11">
                        <input readonly [value]="staffName" pInputText style="width:100%;" />
                    </div>
                </div>
                <div class="p-grid">
                    <div class="p-col-1 p-md-1 p-sm-1"></div>
                    <div class="p-col-2 p-md-2 p-sm-2">
                        <p-radioButton [value]="airTicketObj?.isOneWay == true" style="color: red;"></p-radioButton>
                        <label class="p-col-2 p-md-2 p-lg-2" style="color: red;">One Way</label>
                    </div>
                    <div class="p-col-2 p-md-2 p-sm-2">
                        <p-radioButton [value]="airTicketObj?.isOneWay == false" style="color: red;"></p-radioButton>
                        <label class="p-col-2 p-md-2 p-lg-2" style="color: red;">Two Way</label>
                    </div>
                    <div class="p-col-1 p-md-1 p-sm-1"></div>

                    <div class="p-col-1 p-md-1 p-lg-1">
                        <label>Settled Date:</label>
                    </div>
                    <div class="p-col-5 p-md-5 p-lg-5">
                        <p-calendar [showIcon]="true" formControlName="ticketSettDate" [style]="{'width':'94.5%'}"
                            [inputStyle]="{'width':'96%'}">
                        </p-calendar>
                    </div>
                </div>
                <div class="p-grid">
                    <div class="p-col-1 p-md-1 p-lg-1">
                        <label>Fly From</label>
                    </div>
                    <div class="p-col-5 p-md-5 p-lg-5">
                        <input readonly [value]="getNationalityName(airTicketObj?.flyFromId)" pInputText
                            style="width:100%;" />
                    </div>
                    <div class="p-col-1 p-md-1 p-lg-1">
                        <label>Fly To</label>
                    </div>
                    <div class="p-col-5 p-md-5 p-lg-5">
                        <input readonly [value]="getNationalityName(airTicketObj?.flyToId)" pInputText
                            style="width:100%;" />
                    </div>
                </div>
                <div class="p-grid">
                    <div class="p-col-1 p-md-1 p-lg-1">
                        <label>Return Fly From</label>
                    </div>
                    <div class="p-col-5 p-md-5 p-lg-5">
                        <input readonly [value]="getNationalityName(airTicketObj?.retFlyFromId)" pInputText
                            style="width:100%;" />
                    </div>
                    <div class="p-col-1 p-md-1 p-lg-1">
                        <label>Return Fly To</label>
                    </div>
                    <div class="p-col-5 p-md-5 p-lg-5">
                        <input readonly [value]="getNationalityName(airTicketObj?.retFlyToId)" pInputText
                            style="width:100%;" />
                    </div>
                </div>
                <div class="p-grid">

                    <div class="p-col-1 p-md-1 p-lg-1">
                        <label>Start Date:</label>
                    </div>
                    <div class="p-col-5 p-md-5 p-lg-5">
                        <p-calendar [showIcon]="true" formControlName="issueDate" [style]="{'width':'94.5%'}"
                            [inputStyle]="{'width':'96%'}">
                        </p-calendar>
                    </div>

                    <div class="p-col-1 p-md-1 p-lg-1">
                        <label>End Date:</label>
                    </div>
                    <div class="p-col-5 p-md-5 p-lg-5">
                        <p-calendar [showIcon]="true" formControlName="retDate" [style]="{'width':'94.5%'}"
                            [inputStyle]="{'width':'96%'}">
                        </p-calendar>
                    </div>
                </div>
                <div class="p-grid">
                    <div class="p-col-1 p-md-1 p-lg-1">
                        <label>No Of Ticket</label>
                    </div>
                    <div class="p-col-5 p-md-5 p-lg-5">
                        <input [value]="airTicketObj?.noOfTicket" pInputText style="width:100%;" />
                    </div>
                    <div class="p-col-1 p-md-1 p-lg-1">
                        <label>Available Ticket</label>
                    </div>
                    <div class="p-col-5 p-md-5 p-lg-5">
                        <input [value]="airTicketObj?.availableTicket" pInputText style="width:100%;" />
                    </div>
                </div>
                <div class="p-grid">
                    <div class="p-col-1 p-md-1 p-lg-1">
                        <label>Last Ticket Taken:</label>
                    </div>
                    <div class="p-col-5 p-md-5 p-lg-5">
                        <p-calendar [showIcon]="true" formControlName="lastTicketTaken" [style]="{'width':'94.5%'}"
                            [inputStyle]="{'width':'96%'}">
                        </p-calendar>
                    </div>
                    <div class="p-col-1 p-md-1 p-lg-1">
                        <label>Remarks:</label>
                    </div>
                    <div class="p-col-5 p-md-5 p-lg-5">
                        <textarea [value]="airTicketObj?.remarks" class="w-100" pInputText></textarea>
                    </div>
                </div>
                <div class="p-grid">
                    <div class="p-col-1 p-md-1 p-lg-1">
                        <label>Amount:</label>
                    </div>
                    <div class="p-col-5 p-md-5 p-sm-5">
                        <input [value]="airTicketObj?.amount" pInputText style="width:100%;" />
                    </div>
                    <div class="p-col-2 p-md-2 p-sm-2">
                        <p-radioButton [value]="airTicketObj?.ticket == false" style="color: red;"></p-radioButton>
                        <label class="p-col-2 p-md-2 p-lg-2" style="color: red;">Amount</label>
                    </div>

                    <div class="p-col-2 p-md-2 p-sm-2">
                        <p-radioButton [value]="airTicketObj?.ticket == true" style="color: red;"></p-radioButton>
                        <label class="p-col-2 p-md-2 p-lg-2" style="color: red;">Ticket</label>
                    </div>
                    <div class="p-col-1 p-md-1 p-sm-1"></div>

                </div>
                <div class="p-grid">
                    <div class="p-col-1 p-md-1 p-lg-1"></div>
                    <div class="p-col-6 p-md-6 p-lg-6">
                        <button pButton type="button" (click)="AddLeaveSalaryToPayrollProcess('AIRTICKET')"
                            style="width: 300px;" class="ui-button-danger" label=" Add Airticket To Payroll"></button>

                    </div>
                </div>
            </div>
        </p-tabPanel>
        <p-tabPanel [header]="'Gratuity'| translate">
            <div class="card card-w-title">


                <div class="p-grid">
                    <div class="p-col-1 p-md-1 p-lg-1">
                        <label>Designation</label>
                    </div>
                    <div class="p-col-3 p-md-3 p-lg-3">
                        <input readonly [value]="designationName" pInputText style="width:100%;" />
                    </div>
                    <div class="p-col-1 p-md-1 p-lg-1">
                        <label>PV No</label>
                    </div>
                    <div class="p-col-3 p-md-3 p-lg-3">
                        <input readonly [value]="gratuityObj?.pvno" pInputText style="width:100%;" />
                    </div>
                    <div class="p-col-1 p-md-1 p-lg-1"></div>
                    <div class="p-col-3 p-md-3 p-lg-3">
                        <button pButton type="button" style="width: 300px;" class="ui-button-danger"
                            label=" Process"></button>
                    </div>
                </div>
                <div class="p-grid">
                    <div class="p-col-1 p-md-1 p-lg-1">
                        <label>Date Of Join:</label>
                    </div>
                    <div class="p-col-3 p-md-3 p-lg-3">
                        <p-calendar [showIcon]="true" formControlName="DOJ" [style]="{'width':'85%'}"
                            [inputStyle]="{'width':'96%'}">
                        </p-calendar>

                    </div>
                    <div class="p-col-1 p-md-1 p-lg-1">
                        <label> Last Work Day:</label>
                    </div>
                    <div class="p-col-3 p-md-3 p-lg-3">
                        <p-calendar formControlName="lastWorkingDate" [showIcon]="true" [style]="{'width':'94.5%'}"
                            [inputStyle]="{'width':'96%'}">
                        </p-calendar>

                    </div>
                    <div class="p-col-1 p-md-1 p-lg-1">
                        <label>Total Serv Year</label>
                    </div>
                    <div class="p-col-3 p-md-3 p-lg-3">
                        <input readonly [value]="gratuityObj?.totServYrs" pInputText style="width:100%;" />
                    </div>

                </div>
                <div class="p-grid">
                    <div class="p-col-3"
                        style="background-color: green; width: 250px; height: 25px; margin-top: 5px; color: white; margin-right: 5px;">
                        <p-checkbox [binary]="true" label="Leave Encashment"></p-checkbox>
                    </div>
                    <div class="p-col-3 p-md-3 p-lg-3">
                        <label style="color: red;">Change Gratuity Calculation From Date:</label>
                    </div>
                    <div class="p-col-3 p-md-3 p-lg-3">
                        <p-calendar formControlName="grtCalcChangeDate" [showIcon]="true" [style]="{'width':'94.5%'}"
                            [inputStyle]="{'width':'96%'}">
                        </p-calendar>

                    </div>
                </div>
                <div class="p-grid">
                    <div class="p-col-2 p-md-2 p-lg-2">
                        <label>Gratuity days Per Year</label>
                    </div>
                    <div class="p-col-2 p-md-2 p-lg-2">
                        <input readonly [value]="gratuityObj?.aldays" pInputText style="width:100%;" />
                    </div>
                    <div class="p-col-2 p-md-2 p-lg-2">
                        <label>Gratuity days >5 Years</label>
                    </div>
                    <div class="p-col-2 p-md-2 p-lg-2">
                        <input readonly [value]="gratuityObj?.grtDysGrtFive" pInputText style="width:100%;" />
                    </div>
                    <div class="p-col-2 p-md-2 p-lg-2">
                        <label>Total Days</label>
                    </div>
                    <div class="p-col-2 p-md-2 p-lg-2">
                        <input readonly [value]="gratuityObj?.totalDays" pInputText style="width:100%;" />
                    </div>

                </div>

                <div class="p-grid">

                    <div class="p-col-2 p-md-2 p-lg-2">
                        <label>Gratuity Pay Days</label>
                    </div>
                    <div class="p-col-2 p-md-2 p-lg-2">
                        <input readonly [value]="gratuityObj?.gratDays" pInputText style="width:100%;" />
                    </div>
                    <div class="p-col-2 p-md-2 p-lg-2">
                        <label>Service Years less then 5 </label>
                    </div>
                    <div class="p-col-2 p-md-2 p-lg-2">
                        <input readonly [value]="gratuityObj?.gratDays" pInputText style="width:100%;" />
                    </div>

                    <div class="p-col-2 p-md-2 p-lg-2">
                        <label>Gratuity Serv Years>5 </label>
                    </div>
                    <div class="p-col-2 p-md-2 p-lg-2">
                        <input readonly [value]="gratuityObj?.gratDays" pInputText style="width:100%;" />
                    </div>

                </div>
                <div class="p-grid">

                    <div class="p-col-2 p-md-2 p-lg-2">
                        <label>Eligible Days</label>
                    </div>
                    <div class="p-col-2 p-md-2 p-lg-2">
                        <input readonly [value]="gratuityObj?.eligibleDays" pInputText style="width:100%;" />
                    </div>
                    <div class="p-col-2 p-md-2 p-lg-2">
                        <label>Basic Salary</label>
                    </div>
                    <div class="p-col-2 p-md-2 p-lg-2">
                        <input readonly [value]="gratuityObj?.basicSal" pInputText style="width:100%;" />
                    </div>
                    <div class="p-col-2 p-md-2 p-lg-2">
                        <label>Grat Amount lessthen 5 </label>
                    </div>
                    <div class="p-col-2 p-md-2 p-lg-2">
                        <input readonly [value]="gratuityObj?.grtAmtLessFive" pInputText style="width:100%;" />
                    </div>
                </div>
                <div class="p-grid">
                    <div class="p-col-2 p-md-2 p-lg-2">
                        <label>Grat Amount>5</label>
                    </div>
                    <div class="p-col-2 p-md-2 p-lg-2">
                        <input readonly [value]="gratuityObj?.grtAmtGrterFive" pInputText style="width:100%;" />
                    </div>
                    <div class="p-col-2 p-md-2 p-lg-2">
                        <label>Days Not Eligible</label>
                    </div>
                    <div class="p-col-2 p-md-2 p-lg-2">
                        <input readonly [value]="gratuityObj?.cldays" pInputText style="width:100%;" />
                    </div>
                    <div class="p-col-2 p-md-2 p-lg-2">
                        <label>Grat Amount</label>
                    </div>
                    <div class="p-col-2 p-md-2 p-lg-2">
                        <input readonly [value]="gratuityObj?.gratAmt" pInputText style="width:100%;" />
                    </div>
                </div>
                <div class="p-grid">

                    <div class="p-col-3">
                        <p-checkbox [binary]="true" [value]="gratuityObj?.excludeLeave"
                            label="Exclude Leave Days"></p-checkbox>
                    </div>
                    <div class="p-col-3">
                        <p-checkbox [binary]="true" [value]="gratuityObj?.excludeGratuity"
                            label="Exclude Gratuity"></p-checkbox>
                    </div>
                    <div class="p-col-3">
                        <p-checkbox [binary]="true" label="Three Month Salary While Termination"></p-checkbox>
                    </div>
                    <div class="p-col-1 p-md-1 p-lg-1">
                        <label>Net Amount</label>
                    </div>
                    <div class="p-col-2 p-md-2 p-lg-2">
                        <input readonly [value]="gratuityObj?.totAmt" pInputText style="width:100%;" />
                    </div>
                </div>



            </div>

        </p-tabPanel>
        <p-tabPanel [header]="'Summary'| translate">
            <div class="card card-w-title">
                <div class="p-grid">
                    <div class="p-col-7 p-md-7 p-lg-7">
                        <div class="p-grid">
                            <div class="p-col-2 p-md-2 p-lg-2">
                                <label>Leave Salary Amt</label>
                            </div>
                            <div class="p-col-9 p-md-9 p-lg-9">
                                <input readonly [value]="leavesalaryAmnt" pInputText style="width:100%;" />
                            </div>
                        </div>
                        <div class="p-grid">
                            <div class="p-col-2 p-md-2 p-lg-2">
                                <label>Curr Payroll Amt</label>
                            </div>
                            <div class="p-col-9 p-md-9 p-lg-9">
                                <input readonly [value]="currentPayrollAmnt" pInputText style="width:100%;" />
                            </div>
                        </div>
                        <div class="p-grid">
                            <div class="p-col-2 p-md-2 p-lg-2">
                                <label>Pend Payroll Amt</label>
                            </div>
                            <div class="p-col-9 p-md-9 p-lg-9">
                                <input readonly [value]="pendingPayrollAmnt" pInputText style="width:100%;" />
                            </div>
                        </div>
                        <div class="p-grid">
                            <div class="p-col-2 p-md-2 p-lg-2">
                                <label>Air Ticket Amt</label>
                            </div>
                            <div class="p-col-9 p-md-9 p-lg-9">
                                <input readonly [value]="airticketAmnt" pInputText style="width:100%;" />
                            </div>
                        </div>
                        <div class="p-grid">
                            <div class="p-col-2 p-md-2 p-lg-2">
                                <label>Gratuity Amt</label>
                            </div>
                            <div class="p-col-9 p-md-9 p-lg-9">
                                <input readonly [value]="gratuityAmnt" pInputText style="width:100%;" />
                            </div>
                        </div>
                        <div class="p-grid">
                            <div class="p-col-2 p-md-2 p-lg-2">
                                <label> VarAdd Amt</label>
                            </div>
                            <div class="p-col-9 p-md-9 p-lg-9">
                                <input readonly [value]="varAddAmnt" pInputText style="width:100%;" />
                            </div>
                        </div>
                        <div class="p-grid">
                            <div class="p-col-2 p-md-2 p-lg-2">
                                <label>VarDed Amt</label>
                            </div>
                            <div class="p-col-9 p-md-9 p-lg-9">
                                <input readonly [value]="varDedAmnt" pInputText style="width:100%;" />
                            </div>
                        </div>
                        <div class="p-grid">
                            <div class="p-col-2 p-md-2 p-lg-2">
                                <label>Net Amountt</label>
                            </div>
                            <div class="p-col-9 p-md-9 p-lg-9">
                                <input readonly [value]="summaryNetAmnt" pInputText style="width:100%;" />
                            </div>
                        </div>
                    </div>
                    <div class="p-col-5 p-md-5 p-lg-5">
                        <p-panel>
                            <p-header>
                                Break Down Reports
                            </p-header>

                            <div class="p-grid">
                                <div class="p-col-3 p-md-3 p-lg-3">
                                    <label> ASON Date:</label>
                                </div>
                                <div class="p-col-9 p-md-9 p-lg-9">
                                    <p-calendar [showIcon]="true" [style]="{'width':'85%'}"
                                        [inputStyle]="{'width':'96%'}">
                                    </p-calendar>

                                </div>
                            </div>
                            <div class="p-grid">
                                <div class="p-col-2 p-md-2 p-lg-2">
                                </div>

                                <div class="p-col-4 p-md-4 p-lg-4">
                                    <button pButton type="button" style="width:200px;" label="Leave Break Down"
                                        icon="fa fa-print" class="ui-button-success"></button>
                                </div>
                                <div class="p-col-1 p-md-1 p-lg-1">
                                </div>
                                <div class="p-col-4 p-md-4 p-lg-4">
                                    <button pButton type="button" label="EOS Break Down" style="width:200px;"
                                        icon="fa fa-print" class="ui-button-danger"></button>
                                </div>
                            </div>
                        </p-panel>
                    </div>
                </div>
            </div>
        </p-tabPanel>
        <p-tabPanel [header]="'Allotted Property'| translate">
            <div class="card">
                <div class="p-grid">
                    <div class="p-col-12">
                        <hot-table [hotId]="AllottedPropertyTable" [data]="AllottedPropertyArray"
                            [licenseKey]="licensekey" [settings]="AllottedPropertyGrid">
                        </hot-table>
                    </div>
                </div>
            </div>
        </p-tabPanel>
        <p-tabPanel [header]="'Online Request'| translate">
            <div class="card">
                <div class="p-grid">
                    <div class="p-col-12">
                        <hot-table [hotId]="OnlineRequestTable" [data]="OnlineRequestArray" [licenseKey]="licensekey"
                            [settings]="OnlineRequestGrid">
                        </hot-table>
                    </div>
                </div>
            </div>
        </p-tabPanel>
        <p-tabPanel [header]="'History'| translate">
            <div class="card">
                <div class="p-grid">
                    <div class="p-col-5 p-md-5 p-lg-5">
                        <p-dropdown [filter]="true" (onChange)="onChangeHistoryStaff($event)"
                            placeholder=" Select a Staff" filterValue="fullName" [showClear]="true" dataKey="staffId"
                            autoWidth="false" [style]="{'width':'100%'}"
                            [options]="masterApiService.staffMasterArrayDuplicate" optionLabel="fullName">
                        </p-dropdown>
                    </div>
                    <div class="p-col-3 p-md-3 p-lg-3">
                        <button pButton type="button" label="Search" (click)="onClickLoadHistory()" icon="fa fa-pencil"
                            class="ui-button-success"></button>
                    </div>
                    <div class="p-col-12">
                        <hot-table [hotId]="hotid1" [licenseKey]="licensekey" [data]="HistoryDataArray"
                            [settings]="History">
                        </hot-table>
                    </div>
                </div>
            </div>
        </p-tabPanel>
    </p-tabView>
</div>


<p-dialog header="Leave/Finel Settlement" [(visible)]="listModal" [modal]="true" [style]="{width:'60%'}"
    [draggable]="false">
    <div class="card card-w-title">
        <div class="grid">
            <div class="p-col-12">
                <p-table [paginator]="true" [rows]="10" [showCurrentPageReport]="true"
                    [tableStyle]="{ 'min-width': '50rem' }"
                    currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
                    [rowsPerPageOptions]="[10, 25, 50]" [value]="this.transactionService.LeaveSalaryList"
                    styleClass="p-datatable-striped" [tableStyle]="{'min-width': '50rem'}">
                    <ng-template pTemplate="header">
                        <tr>
                            <th>ID</th>
                            <th>Staff</th>
                            <th>Last Set Date</th>
                        </tr>
                    </ng-template>
                    <ng-template pTemplate="body" let-item>
                        <tr (click)="getLeaveSalaryByID(item?.id ,item?.staffId)" style="cursor:pointer">
                            <td>{{item?.id | number}}</td>
                            <td>{{item?.staffName}}</td>
                            <td>{{item?.lastSetDate | date}}</td>
                        </tr>
                    </ng-template>
                </p-table>
            </div>
        </div>
    </div>
</p-dialog>