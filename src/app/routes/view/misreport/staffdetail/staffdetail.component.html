<div class="matero-page-header">
    <div class="matero-page-header-inner">
        <h2 class="matero-page-title">{{title}}</h2>
    </div>
</div>
<p-toolbar>
    <div class="ui-toolbar-group-left">
        <button pButton type="button" (click)="GenerateReport()" label="Generate Report" icon="fa fa-floppy-o"
            class="ui-button-success"></button>
        <button  pButton type="button" (click)="onPrint()" label="Print" icon="fa fa-print"
            class="ui-button-success"></button>
    </div>
</p-toolbar>
<div class="card card-w-title" [formGroup]='reportForm'>
    <p-tabView>
        <p-tabPanel [header]="'Staff Detail'">
            <div class="p-grid">
                <div class="p-col-6 p-md-6 p-lg-6">
                    <label> Company:</label>
                    <p-dropdown [filter]="true" placeholder="All" ngDefaultControl filterValue="companyName"
                        [showClear]="true" dataKey="companyId" autoWidth="false" formControlName="companyID"
                        [style]="{'width':'100%'}" [options]="masterApi.CompanyMasterArray"
                        optionLabel="companyName"></p-dropdown>
                </div>
                <div class="p-col-6 p-md-6 p-lg-6">
                    <label> Visa Company:</label>
                    <p-dropdown [filter]="true" ngDefaultControl placeholder="All" filterValue="visaCompany"
                        [showClear]="true" dataKey="visaCompanyId" autoWidth="false" formControlName="visaCompanyID"
                        [style]="{'width':'100%'}" [options]="masterApi.VisaCompanyMasterArray"
                        optionLabel="visaCompany"></p-dropdown>
                </div>
                <div class="p-col-4 p-md-4 p-lg-4">
                    <label> Site:</label>
                    <p-dropdown [filter]="true" ngDefaultControl placeholder="All" filterValue="siteName"
                        [showClear]="true" dataKey="siteId" autoWidth="false" formControlName="siteID"
                        [style]="{'width':'100%'}" [options]="masterApi.siteMasterArrayDuplicate"
                        optionLabel="siteName"></p-dropdown>
                </div>
                <div class="p-col-4 p-md-4 p-lg-4">
                    <label> Sponsor:</label>
                    <p-dropdown [filter]="true" ngDefaultControl placeholder="All" filterValue="sponser"
                        [showClear]="true" dataKey="sponserId" autoWidth="false" formControlName="sponsorID"
                        [style]="{'width':'100%'}" [options]="masterApi.SponsorArray"
                        optionLabel="sponser"></p-dropdown>
                </div>
                <div class="p-col-4 p-md-4 p-lg-4">
                    <label> Department:</label>
                    <p-dropdown [filter]="true" ngDefaultControl placeholder="All" filterValue="department"
                        [showClear]="true" dataKey="departmentId" autoWidth="false" formControlName="departmentID"
                        [style]="{'width':'100%'}" [options]="masterApi.DepartmentArray"
                        optionLabel="department"></p-dropdown>
                </div>
            </div>
        </p-tabPanel>
    </p-tabView>
</div>


<div  id="print" #print class="card">
    <body>
        <div class="card card-w-title">
            <div class="col-12">
                <h1><b>ACORTEC STRUCTURAL STEEL COATING & TREATMENT LLC</b><br>
                    Office No. 288, Plot No-9, Block-1, Mussafah Ind Area (M-15) <br>
                    Tel: +971-2-556-2248 , Fax: +971-2-556-2248 , Email:salesuae@acortec.net <br>
                </h1>
                <br><br><br>
                <table class="abc">
                    <tr>
                        <th>Code</th>
                        <th>Name</th>
                        <th>Date Of Joining</th>
                        <th>Designation</th>
                        <th>Department</th>
                        <th>Nationality</th>
                        <th>Passport No</th>
                        <th>Emirates ID</th>
                        <th>Status</th>
                    </tr>
                    <tr *ngFor="let item of reportService.staffDetailArray">
                        <td>{{ item.staffCode }}</td>
                        <td>{{ item.fullName }}</td>
                        <td>{{ item.doj | date }}</td>
                        <td>{{ getDesignationName(item.designationId) }}</td>
                        <td>{{ getDepartmentName(item.departmentId) }}</td>
                        <td>{{ getNationalityName(item.nationalityId) }}</td>
                        <td>{{ item.passPort?.labourCardNo }}</td>
                        <td>{{ item.empQid }}</td>
                        <td>{{ item.status }}</td>
                    </tr>
                </table>
            </div>
            <br><br>
        </div>
    </body>
</div>